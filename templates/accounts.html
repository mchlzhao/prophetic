{% extends 'base.html' %}
{% block content %}

<h1>{{ event.group.name }}: {{ event.name }}</h1>

<div class="btn-toolbar mt-3 mb-3 pt-3 pb-3 border-top border-bottom justify-content-end">
    <a class="btn btn-outline-primary" href="{% url 'markets' event.pk %}">Markets</a>
</div>

<div class="container mt-5 mb-5">
    <table class="table table-striped table-hover" style="table-layout:fixed;">
        <tbody>
            <tr>
                <th scope="row" style="width:25%; text-align:left">Name</th>
                {% for account in accounts %}
                <td style="text-align:center"><b>{{ account.name }}</b></td>
                {% endfor %}
            </tr>
            <tr>
                <th scope="row" style="text-align:left">Balance</th>
                {% for account in accounts %}
                <td style="text-align:center">{{ account.balance }}</td>
                {% endfor %}
            </tr>
            {% for market in markets %}
            <tr>
                <th class="text-truncate" scope="row" style="text-align:left">
                    <small>{{ market.description }}</small>
                </th>
                {% for position in market.positions %}
                <td style="padding: 0; vertical-align: middle; text-align: center;">
                    <span
                        class="badge rounded-pill {% if position.pos < 0 %}bg-danger{% elif position.pos > 0 %}bg-success{% else %}bg-dark{% endif %}"
                        style="min-width: 2rem;">
                        {{ position.abs_pos }}
                    </span>
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}